
<div *ngIf="errorFlag" class = "alert alert-danger">
  {{errorMsg}}
</div>

<form (ngSubmit)="updateImage()" #updateimage ="ngForm">
  <nav class="navbar navbar-fixed-top navbar-expand-lg nav-neu">
    <div class="container-fluid row">
      <div class="pull-left">
        <!--<a routerLink="/" class="navbar-brand text-white">-->
        <a routerLink = "/faculty/{{userId}}/courses/{{courseNumber}}/widget" class="navbar-brand text-white">
          <span class="fas fa-chevron-left"></span>
        </a>
        <a routerLink="./" class="navbar-brand text-white ml-4">
          Widget Edit
        </a>
      </div>

      <div class="pull-right">
        <button class = "btn btn-secondary btn-block" type = "submit">
          <i class="fas fa-check fontawsome_icon"></i>
        </button>
      </div>
    </div>
  </nav>
</form>


<div class="container-fluid cl-container-padding">
  <form>
    <div class = "form-group">
      <label for = "name">Name</label>
      <!--<input type = "text" class="form-control" id = "name" placeholder="Image">-->
      <input [(ngModel)]="widget.name" type="text" class="form-control"
             id="name" name="name" placeholder="{{widget.name}}" required>
    </div>
    <div class = "form-group">
      <label for = "text"> Text</label>
      <!--<input type = "text" class="form-control" id = "text" placeholder="Description of the image">-->
      <input [(ngModel)] = "widget.text" type = "text" class = "form-control"
             id = "text" name = "text" placeholder = "{{widget.text}}">
    </div>
    <div class = "form-group">
      <label for = "URL"> URL </label>
      <!--<input type = "url" class="form-control" id = "URL" placeholder="URL of the image">-->
      <input [(ngModel)] = "widget.url" type = "url" class = "form-control"
             id = "URL" name = "URL" placeholder = "{{widget.url}}">
    </div>
    <div class = "form-group">
      <label for = "width"> Width</label>
      <!--<input type = "text" class="form-control" id = "width" placeholder="100%">-->
      <input [(ngModel)] = "widget.width" type = "text" class = "form-control"
             id = "width" name = "width" placeholder = "{{widget.width}}">
    </div>
  </form>

  <form ngNoForm action="{{baseUrl}}/api/upload" method="post" enctype="multipart/form-data">
    <input  name="myFile"   type="file" class="form-control"/>
    <input  name="widgetId" value="{{widgetId}}"   style="display: none"/>
    <input  name="courseNumber" value="{{courseNumber}}"   style="display: none"/>
    <input  name="userId" value="{{userId}}"   style="display: none"/>
    <button type="submit" class="btn btn-block btn-secondary">Upload Image</button>
    <br/>
  </form>

  <a class="btn btn-secondary btn-block" routerLink = '/user/{{userId}}/courses/{{courseNumber}}/widget/{{widgetId}}/flickr'>Search From Flickr</a>

  <form (ngSubmit)="deleteImage()" #deleteimage ="ngForm">
    <button class = "btn btn-danger btn-block" type = "submit">
      Delete
    </button>
  </form>
</div>


<nav class="navbar fixed-bottom navbar-expand-lg nav-neu">
  <div class="container-fluid">
    <a routerLink="/" class="navbar-brand text-white">
      <span class="fas fa-paw mr-1"></span>
      Home
    </a>
  </div>
</nav>

